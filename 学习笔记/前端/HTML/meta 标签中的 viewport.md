---
date: 2025-06-12
tags:
  - meta
  - viewport
---


## 为什么需要 viewport ？

智能手机兴起前，网页主要是为 pc 端这样的宽屏服务的。当智能手机加载这些网页时，浏览器为了完整显示网页内容且不破坏原有布局，会构建一个虚拟的视口容器，会对整个网页进行缩小后放置在这个虚拟容器内。这种情况使用手机浏览器渲染出来的网页，此时会发现展示的内容尺寸会变得很小，需要放大才能看清楚内容，这种体验就比较差了。

## 视口概念

浏览器本身有视口的概念，我们这里要着重关注布局视口、视觉视口和理想视口

#### 布局视口

这是浏览器渲染引擎内部用于计算 css 布局的虚拟窗口，css 规则里面的 100% 和媒体查询宽度都是根据这个虚拟窗口来进行计算的。

当没有在浏览器里面使用 `<meta name="viewport">` 时，浏览器会使用一个相对较宽的布局视口，这是为了原本服务于 pc 的网页在手机浏览器上按照原有布局来展示，尽管页面会缩小。

我们这里可以测试一下，可以看到下图，文案的容器宽度有 942 px，整个页面是可以左右滑动的。

![Pasted image 20250614134312.png](http:8.149.242.20:9000/storage/uploads/202506/14/Pasted%20image%2020250614134312.png?11G84bLK21)

当设置 width=device-width 后，即 `<meta name="viewport" content="width=device-width">`，这就告诉浏览器不要使用默认的布局视口了，而是使用设备的理想视口宽度来作为布局视口的宽度。

当然 width 也可以设置其它具体的数字，`<meta name="viewport" content="width=600">`，这样的话布局视口的宽度就是600 px。

#### 视觉视口

设备可视的区域视口，即用户可以看到的网页区域。当用户缩放或者滚动页面后，视觉视口会发生变化。

当使用 meta 标签设置 initial-scale、minimum-scale、maximum-scale、user-scalable，这些属性会直接影响用户操作视觉视口



#### 理想视口

浏览器开发者和设备商认为的，对于特定设备屏幕物理尺寸下来说最理想、未缩放的 css 像素宽度。device-width 并不是一个固定的数值，而是告诉浏览器使用理想视口宽度的值。

## 配置推荐

我们平常在开发 `h5` 页面时，唯一推荐的配置就是 width=device-width，这种情况下网页能够在手机浏览器上有良好的表现。

```html
<meta name="viewport" content="width=device-width, initial-scale=1.0">
```



